{"ast":null,"code":"import { ADD_TO_CART, DELETE_FROM_CART, QUANTITY_CHANGED } from \"../constants\";\nlet initialState = [{\n  id: 1,\n  name: \"asd\",\n  description: \"qwe\",\n  quantity: 1,\n  price: 500\n}];\n\nconst cart = (state = [], action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const good = state.findIndex(good => good.name === action.data.name);\n\n      if (state[good]) {\n        state[good].quantity += 1;\n        return [...state];\n      }\n\n      action.data.quantity = 1;\n      return [...state, action.data];\n\n    case DELETE_FROM_CART:\n      return [...state].filter(good => good.id !== action.id);\n\n    case QUANTITY_CHANGED:\n      console.log(action.data);\n      const index = state.findIndex(good => good.id === action.data.id);\n      state[index].quantity = action.data.e;\n      return [...state];\n\n    default:\n      return state;\n  }\n};\n\nexport default cart;","map":{"version":3,"sources":["/Users/roman/Documents/server/next-js-project/client/redux/reducers/cart.js"],"names":["ADD_TO_CART","DELETE_FROM_CART","QUANTITY_CHANGED","initialState","id","name","description","quantity","price","cart","state","action","type","good","findIndex","data","filter","console","log","index","e"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,EAAwCC,gBAAxC,QAAgE,cAAhE;AAEA,IAAIC,YAAY,GAAG,CACjB;AACEC,EAAAA,EAAE,EAAE,CADN;AAEEC,EAAAA,IAAI,EAAE,KAFR;AAGEC,EAAAA,WAAW,EAAE,KAHf;AAIEC,EAAAA,QAAQ,EAAE,CAJZ;AAKEC,EAAAA,KAAK,EAAE;AALT,CADiB,CAAnB;;AAUA,MAAMC,IAAI,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AACnC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKZ,WAAL;AACE,YAAMa,IAAI,GAAGH,KAAK,CAACI,SAAN,CAAgBD,IAAI,IAAIA,IAAI,CAACR,IAAL,KAAcM,MAAM,CAACI,IAAP,CAAYV,IAAlD,CAAb;;AAEA,UAAIK,KAAK,CAACG,IAAD,CAAT,EAAiB;AACfH,QAAAA,KAAK,CAACG,IAAD,CAAL,CAAYN,QAAZ,IAAwB,CAAxB;AAEA,eAAO,CAAC,GAAGG,KAAJ,CAAP;AACD;;AAEDC,MAAAA,MAAM,CAACI,IAAP,CAAYR,QAAZ,GAAuB,CAAvB;AACA,aAAO,CAAC,GAAGG,KAAJ,EAAWC,MAAM,CAACI,IAAlB,CAAP;;AACF,SAAKd,gBAAL;AACE,aAAO,CAAC,GAAGS,KAAJ,EAAWM,MAAX,CAAkBH,IAAI,IAAIA,IAAI,CAACT,EAAL,KAAYO,MAAM,CAACP,EAA7C,CAAP;;AAEF,SAAKF,gBAAL;AACEe,MAAAA,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACI,IAAnB;AACA,YAAMI,KAAK,GAAGT,KAAK,CAACI,SAAN,CAAgBD,IAAI,IAAIA,IAAI,CAACT,EAAL,KAAYO,MAAM,CAACI,IAAP,CAAYX,EAAhD,CAAd;AAEAM,MAAAA,KAAK,CAACS,KAAD,CAAL,CAAaZ,QAAb,GAAwBI,MAAM,CAACI,IAAP,CAAYK,CAApC;AAEA,aAAO,CAAC,GAAGV,KAAJ,CAAP;;AACF;AACE,aAAOA,KAAP;AAvBJ;AAyBD,CA1BD;;AA4BA,eAAeD,IAAf","sourcesContent":["import { ADD_TO_CART, DELETE_FROM_CART, QUANTITY_CHANGED } from \"../constants\";\n\nlet initialState = [\n  {\n    id: 1,\n    name: \"asd\",\n    description: \"qwe\",\n    quantity: 1,\n    price: 500\n  }\n];\n\nconst cart = (state = [], action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const good = state.findIndex(good => good.name === action.data.name);\n\n      if (state[good]) {\n        state[good].quantity += 1;\n\n        return [...state];\n      }\n\n      action.data.quantity = 1;\n      return [...state, action.data];\n    case DELETE_FROM_CART:\n      return [...state].filter(good => good.id !== action.id);\n\n    case QUANTITY_CHANGED:\n      console.log(action.data);\n      const index = state.findIndex(good => good.id === action.data.id);\n\n      state[index].quantity = action.data.e;\n\n      return [...state];\n    default:\n      return state;\n  }\n};\n\nexport default cart;\n"]},"metadata":{},"sourceType":"module"}