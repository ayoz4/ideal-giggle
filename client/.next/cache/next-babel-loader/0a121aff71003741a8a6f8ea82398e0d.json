{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/roman/Documents/server/next-js-project/client/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport loadFirebase from \"../lib/db\";\nimport Nav from \"../components/nav\";\nimport Head from \"next/head\";\nimport Good from \"../components/Good\";\nimport { addToCart } from \"../redux/actions/cartActions\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddToCart\", function (e, good) {\n      e.preventDefault();\n\n      _this.props.addToCart(good);\n    });\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var goods = this.props.goods;\n      return __jsx(\"div\", {\n        className: \"jsx-3295222989\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, __jsx(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, __jsx(\"title\", {\n        className: \"jsx-3295222989\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Test\"), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\",\n        className: \"jsx-3295222989\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      })), __jsx(Nav, {\n        path: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"jsx-3295222989\" + \" \" + \"row row-cols-1 row-cols-md-3 container mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, goods.map(function (good) {\n        return __jsx(Good, {\n          good: good,\n          onClick: _this2.onAddToCart,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        });\n      })), __jsx(_JSXStyle, {\n        id: \"3295222989\",\n        __self: this\n      }, \".row-cols-md-3.jsx-3295222989{margin:3vh 1.5vw 1.5vh 1.5vw;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb21hbi9Eb2N1bWVudHMvc2VydmVyL25leHQtanMtcHJvamVjdC9jbGllbnQvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcURvQixBQUcwQyw2QkFDL0IiLCJmaWxlIjoiL1VzZXJzL3JvbWFuL0RvY3VtZW50cy9zZXJ2ZXIvbmV4dC1qcy1wcm9qZWN0L2NsaWVudC9wYWdlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuaW1wb3J0IGxvYWRGaXJlYmFzZSBmcm9tIFwiLi4vbGliL2RiXCI7XG5pbXBvcnQgTmF2IGZyb20gXCIuLi9jb21wb25lbnRzL25hdlwiO1xuaW1wb3J0IEhlYWQgZnJvbSBcIm5leHQvaGVhZFwiO1xuaW1wb3J0IEdvb2QgZnJvbSBcIi4uL2NvbXBvbmVudHMvR29vZFwiO1xuaW1wb3J0IHsgYWRkVG9DYXJ0IH0gZnJvbSBcIi4uL3JlZHV4L2FjdGlvbnMvY2FydEFjdGlvbnNcIjtcblxuY2xhc3MgSG9tZSBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRpYyBhc3luYyBnZXRJbml0aWFsUHJvcHMoKSB7XG4gICAgbGV0IGZpcmViYXNlID0gYXdhaXQgbG9hZEZpcmViYXNlKCk7XG5cbiAgICBsZXQgZGF0YSA9IFtdO1xuXG4gICAgYXdhaXQgZmlyZWJhc2VcbiAgICAgIC5maXJlc3RvcmUoKVxuICAgICAgLmNvbGxlY3Rpb24oXCJnb29kc1wiKVxuICAgICAgLmdldCgpXG4gICAgICAudGhlbihzbmFwc2hvdCA9PiB7XG4gICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHtcbiAgICAgICAgICBkYXRhLnB1c2goT2JqZWN0LmFzc2lnbih7IGlkOiBkb2MuaWQgfSwgZG9jLmRhdGEoKSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgZ29vZHM6IGRhdGEgfTtcbiAgfVxuXG4gIG9uQWRkVG9DYXJ0ID0gKGUsIGdvb2QpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5hZGRUb0NhcnQoZ29vZCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGdvb2RzID0gdGhpcy5wcm9wcy5nb29kcztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8SGVhZD5cbiAgICAgICAgICA8dGl0bGU+VGVzdDwvdGl0bGU+XG4gICAgICAgICAgPGxpbmtcbiAgICAgICAgICAgIHJlbD1cInN0eWxlc2hlZXRcIlxuICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vc3RhY2twYXRoLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzQuNC4xL2Nzcy9ib290c3RyYXAubWluLmNzc1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9IZWFkPlxuICAgICAgICA8TmF2IHBhdGg9e1wiL1wifSAvPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHJvdy1jb2xzLTEgcm93LWNvbHMtbWQtMyBjb250YWluZXIgbXgtYXV0b1wiPlxuICAgICAgICAgIHtnb29kcy5tYXAoZ29vZCA9PiAoXG4gICAgICAgICAgICA8R29vZCBnb29kPXtnb29kfSBvbkNsaWNrPXt0aGlzLm9uQWRkVG9DYXJ0fSAvPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgLnJvdy1jb2xzLW1kLTMge1xuICAgICAgICAgICAgbWFyZ2luOiAzdmggMS41dncgMS41dmggMS41dnc7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobnVsbCwgeyBhZGRUb0NhcnQgfSkoSG9tZSk7XG4iXX0= */\\n/*@ sourceURL=/Users/roman/Documents/server/next-js-project/client/pages/index.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var firebase, data;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(loadFirebase());\n\n            case 2:\n              firebase = _context.sent;\n              data = [];\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(firebase.firestore().collection(\"goods\").get().then(function (snapshot) {\n                snapshot.forEach(function (doc) {\n                  data.push(_Object$assign({\n                    id: doc.id\n                  }, doc.data()));\n                });\n              }));\n\n            case 6:\n              return _context.abrupt(\"return\", {\n                goods: data\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default connect(null, {\n  addToCart: addToCart\n})(Home);","map":{"version":3,"sources":["/Users/roman/Documents/server/next-js-project/client/pages/index.js"],"names":["React","Component","connect","loadFirebase","Nav","Head","Good","addToCart","Home","e","good","preventDefault","props","goods","map","onAddToCart","firebase","data","firestore","collection","get","then","snapshot","forEach","doc","push","id"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,YAAP,MAAyB,WAAzB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,SAAT,QAA0B,8BAA1B;;IAEMC,I;;;;;;;;;;;;;;;;;;kEAmBU,UAACC,CAAD,EAAIC,IAAJ,EAAa;AACzBD,MAAAA,CAAC,CAACE,cAAF;;AACA,YAAKC,KAAL,CAAWL,SAAX,CAAqBG,IAArB;AACD,K;;;;;;;6BAEQ;AAAA;;AACP,UAAMG,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAzB;AAEA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AACE,QAAA,GAAG,EAAC,YADN;AAEE,QAAA,IAAI,EAAC,0EAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAQE,MAAC,GAAD;AAAK,QAAA,IAAI,EAAE,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,EAUE;AAAA,4CAAe,gDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,KAAK,CAACC,GAAN,CAAU,UAAAJ,IAAI;AAAA,eACb,MAAC,IAAD;AAAM,UAAA,IAAI,EAAEA,IAAZ;AAAkB,UAAA,OAAO,EAAE,MAAI,CAACK,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADa;AAAA,OAAd,CADH,CAVF;AAAA;AAAA;AAAA,okFADF;AAwBD;;;;;;;;;;+CAjDsBZ,YAAY,E;;;AAA7Ba,cAAAA,Q;AAEAC,cAAAA,I,GAAO,E;;+CAELD,QAAQ,CACXE,SADG,GAEHC,UAFG,CAEQ,OAFR,EAGHC,GAHG,GAIHC,IAJG,CAIE,UAAAC,QAAQ,EAAI;AAChBA,gBAAAA,QAAQ,CAACC,OAAT,CAAiB,UAAAC,GAAG,EAAI;AACtBP,kBAAAA,IAAI,CAACQ,IAAL,CAAU,eAAc;AAAEC,oBAAAA,EAAE,EAAEF,GAAG,CAACE;AAAV,mBAAd,EAA8BF,GAAG,CAACP,IAAJ,EAA9B,CAAV;AACD,iBAFD;AAGD,eARG,C;;;+CAUC;AAAEJ,gBAAAA,KAAK,EAAEI;AAAT,e;;;;;;;;;;;;EAhBQhB,S;;AAsDnB,eAAeC,OAAO,CAAC,IAAD,EAAO;AAAEK,EAAAA,SAAS,EAATA;AAAF,CAAP,CAAP,CAA6BC,IAA7B,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport loadFirebase from \"../lib/db\";\nimport Nav from \"../components/nav\";\nimport Head from \"next/head\";\nimport Good from \"../components/Good\";\nimport { addToCart } from \"../redux/actions/cartActions\";\n\nclass Home extends Component {\n  static async getInitialProps() {\n    let firebase = await loadFirebase();\n\n    let data = [];\n\n    await firebase\n      .firestore()\n      .collection(\"goods\")\n      .get()\n      .then(snapshot => {\n        snapshot.forEach(doc => {\n          data.push(Object.assign({ id: doc.id }, doc.data()));\n        });\n      });\n\n    return { goods: data };\n  }\n\n  onAddToCart = (e, good) => {\n    e.preventDefault();\n    this.props.addToCart(good);\n  };\n\n  render() {\n    const goods = this.props.goods;\n\n    return (\n      <div>\n        <Head>\n          <title>Test</title>\n          <link\n            rel=\"stylesheet\"\n            href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\"\n          />\n        </Head>\n        <Nav path={\"/\"} />\n\n        <div className=\"row row-cols-1 row-cols-md-3 container mx-auto\">\n          {goods.map(good => (\n            <Good good={good} onClick={this.onAddToCart} />\n          ))}\n        </div>\n\n        <style jsx>{`\n          .row-cols-md-3 {\n            margin: 3vh 1.5vw 1.5vh 1.5vw;\n          }\n        `}</style>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { addToCart })(Home);\n"]},"metadata":{},"sourceType":"module"}